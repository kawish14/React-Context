<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="initial-scale=1,maximum-scale=1,user-scalable=no"
    />
    <title>WMSLayer | Sample | ArcGIS API for JavaScript 4.24</title>

    <style>
      html,
      body,
      #viewDiv {
        padding: 0;
        margin: 0;
        height: 100%;
        width: 100%;
      }
    </style>

    <link
      rel="stylesheet"
      href="https://js.arcgis.com/4.24/esri/themes/light/main.css"
    />
    <script src="https://js.arcgis.com/4.24/"></script>

    <script>
      require(["esri/Map", "esri/views/SceneView", "esri/layers/WMSLayer"], (
        Map,
        SceneView,
        WMSLayer
      ) => {

        const layer = new WMSLayer({
          url: "http://gis.tes.com.pk:28881/geoserver/South_PostGIS/wms",
          sublayers: [
            {
              name: "parcel_evw",
              
            }
          ],
          customLayerParameters:{
            CQL_FILTER: "society= 'Quetta Town'",
            format: 'image/png',
          }
        });

        const map = new Map({
         basemap: "satellite",
        });

        const view = new SceneView({
          container: "viewDiv",
          center: [67.171837, 24.908468],
          scale: 577791,
          map: map,
          spatialReference: {
            wkid: 102100
          }
        });

        map.add(layer)

        console.log(layer)
        
      });
    </script>
  </head>
  <body>
    <div id="viewDiv"></div>
  </body>
</html>
